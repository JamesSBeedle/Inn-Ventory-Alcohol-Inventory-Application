{% extends 'base.html' %}
{% block content %}

<header>
    <nav class="page-nav">
        <ul>
            <div>
                <li> <a href="/"><button class="nav-button index-button">Home</button></a></li>
            </div>
            <div>
                <li><a href="/suppliers"><button class="nav-button button-supplier">Suppliers</button></a></li>
            </div>
        </ul>
    </nav>

    <section class="page-title">
        <h1>Full Inventory</h1>
    </section>

    <section class="button-container">
        <a href="/products/new"><button class="add-new-button">Add New Product</button></a>
    </section>
    
</header>
<hr>

{% for product in inventory %}
<article id="product-single">
    <div id="product-info-single">

        <section class="product-item">
            <h2>Product Name:</h2>
            <p>{{product.name}}</p>
        </section>
       
        <section class="product-item">
            <h2>Category:</h2>
            <p>{{product.category}}</p>
        </section>
        
        <section class="product-item">
            <h2>Decription:</h2>
            <p>{{product.description}}</p>
        </section>
        
        
    </div>

    <div id="product-maths">
        <section class="product-item-2">
            <h2>Supplier Name:</h2>
            <p>{{product.supplier.name}}</p>
        </section>
        <section class="product-item-2">
            <h2>Wholesale Price:</h2>
            <p>£{{product.cost_price}}</p>
        </section>
        <section class="product-item-2">
            <h2>Mark Up:</h2>
            <p>{{product.mark_up}}%</p>
        </section>
    
        <section class="product-item-2">
            <h2>Retail Price:</h2>
            <p>£{{product.sale_price}} <span style="color: green">+{{difference}}</span></p>
        </section>

        <section class="product-item-2">
            <h2>Minimum Stock Level:</h2>
            <p>{{product.minimum_stock_level}}</p>
        </section>
        
        <section class="product-item-2 current-stock-level">
            <h2>Current Stock Level:</h2>
            {% if product.in_stock == 0: %}
            <p style="color:red">{{product.in_stock}} </p>
            <p> Out of Stock!</p>
            {% elif product.in_stock <= product.minimum_stock_level: %}
            <p style="color:orange">{{product.in_stock}} </p>
            <p>Low Stock</p>
            {% else %}
            <p>{{product.in_stock}}</p>
            {% endif %}
        </section>
        
    </div>
    
</article>
    <article>
        <div>
            <section class="button-container">
                <a href="/products/{{product.id}}"><button class="view-button button-inv">View Product</button></a>
            </section>
        </div>
        
    </article>
    <hr>
    <hr>
    
{% endfor %}
    
{% endblock content %}



